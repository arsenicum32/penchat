function clearCanvas(e,t){e.clearRect(0,0,t.width,t.height);var n=t.width;t.width=1,t.width=n}function handleStart(e){e.preventDefault(),log("touchstart."),makebutton();for(var t=document.getElementsByTagName("canvas")[0],n=t.getContext("2d"),a=e.changedTouches,o=0;o<a.length;o++){log("touchstart:"+o+"..."),ongoingTouches.push(copyTouch(a[o]));var i=colorForTouch(a[o]);n.beginPath(),n.arc(a[o].pageX,a[o].pageY,4,0,2*Math.PI,!1),n.fillStyle=i,n.fill(),log("touchstart:"+o+".")}}function handleMove(e){e.preventDefault();for(var t=document.getElementsByTagName("canvas")[0],n=t.getContext("2d"),a=e.changedTouches,o=0;o<a.length;o++){var i=colorForTouch(a[o]),c=ongoingTouchIndexById(a[o].identifier);c>=0?(log("continuing touch "+c),n.beginPath(),log("ctx.moveTo("+ongoingTouches[c].pageX+", "+ongoingTouches[c].pageY+");"),n.moveTo(ongoingTouches[c].pageX,ongoingTouches[c].pageY),log("ctx.lineTo("+a[o].pageX+", "+a[o].pageY+");"),n.lineTo(a[o].pageX,a[o].pageY),n.lineWidth=4,n.strokeStyle=i,n.stroke(),ongoingTouches.splice(c,1,copyTouch(a[o]))):log("can't figure out which touch to continue")}}function handleEnd(e){e.preventDefault(),log("touchend");for(var t=document.getElementsByTagName("canvas")[0],n=t.getContext("2d"),a=e.changedTouches,o=0;o<a.length;o++){var i=colorForTouch(a[o]),c=ongoingTouchIndexById(a[o].identifier);c>=0?(n.lineWidth=4,n.fillStyle=i,n.beginPath(),n.moveTo(ongoingTouches[c].pageX,ongoingTouches[c].pageY),n.lineTo(a[o].pageX,a[o].pageY),n.fillRect(a[o].pageX-4,a[o].pageY-4,8,8),ongoingTouches.splice(c,1)):log("can't figure out which touch to end")}}function handleCancel(e){e.preventDefault(),log("touchcancel.");for(var t=e.changedTouches,n=0;n<t.length;n++)ongoingTouches.splice(n,1)}function colorForTouch(e){var t=e.identifier%16,n=Math.floor(e.identifier/3)%16,a=Math.floor(e.identifier/7)%16;t=t.toString(16),n=n.toString(16),a=a.toString(16);var o="#"+t+n+a;return log("color for touch with identifier "+e.identifier+" = "+o),o}function copyTouch(e){return{identifier:e.identifier,pageX:e.pageX,pageY:e.pageY}}function ongoingTouchIndexById(e){for(var t=0;t<ongoingTouches.length;t++){var n=ongoingTouches[t].identifier;if(n==e)return t}return-1}function log(e){}function scrollDown(){var e=document.getElementById("adobewordpress");e.scrollTop=e.scrollHeight}function renderMes(e,t,n,a){var o=a?"myMessage":"fromThem";$("#adobewordpress").append('<div class="message">            <div class="'+o+'">             <p>'+e+"</p>              <date><b>"+n+"</b> "+t+"</date>            </div>          </div>  </div>")}function tC(e){var t=new Date(1e3*e),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=t.getFullYear(),o=n[t.getMonth()],i=t.getDate(),c=t.getHours(),r=t.getMinutes(),d=t.getSeconds(),s=i+" "+o+" "+a+" "+c+":"+r+":"+d;return s}function setlanguage(e){Language=e,"ru"===e&&(datas=[{label:"Free meaning of life",im:"http://undefined.tk/public/1.jpg",bt:"узнать больше",desc:"Первый во Вселенной источник настоящего смысла жизни, который можно ощутить, всего лишь попросив свой компьютер найти его. Да, настало время, когда даже об этом можно попросить свой ПК. Заказав его, вы больше никогда не будете тратить бесценное время, угнетая себя вечной проблемой бытия.",mes:"Это сообщение, которое отправит товар в чат",title:"Это имя товара в чате",price:2500},{label:"Click me",im:"http://undefined.tk/public/2.jpg",mesf:function(){return"Эта функция возвращает сообщение в чат от товара"},desc:"Все мы уже привыкли смотреть на мир глазами создателя, который способен одним щелчком мыши внести в него свои изменения. Наш взгляд, не просто вооружен, он предупрежден и информирован обо всем. Очки «Cleak me» - это буквальная метафора взгляда современного человека, новый тренд активной и мобильной жизни – жизни в один клик.",title:"Это имя товара в чате",price:1800},{label:"Antivirus",im:"http://undefined.tk/public/3.jpg",desc:"Если ваш любимый гаджет атакуют, и у вас уже не осталось сил противостоять потерявшим всякие грани приличия злоумышленникам, не стоит отчаиваться. «Antivirus» уже в первые минуты после применения устраняет уязвимость ОС, устанавливает необходимые обновления и патчи, восстанавливает систему и очищает её от ненужных файлов. Однако стоит помнить, что эффективность комплекса распространяется только на ПК принимающего его пользователя и не имеет полномочий для компьютеров его друзей, родственников и любых других посторонних лиц. «Antivirus» не имеет противопоказаний и отпускается без рецепта врача. При регулярном использовании, ваш компьютер начинает самостоятельно нейтрализовывать все разновидности баннерной рекламы, а также вырабатывает иммунитет к спаму.",title:"Это имя товара в чате",price:1200},{label:"Dark packages",im:"http://undefined.tk/public/4.jpg",desc:"Ежесекундно по пространству интернета странствует поток информации. Естественно, такой громаде нужна система, поэтому вся информация рассортирована по пакетам, которые вовремя отправляются и доставляются, как на почте. Иногда бывают случаи утери связей или запрещения доступа к различным файлам, порой очень интересным. Undefined специально для вас кропотливо собрал заманчивых ресурсов, которые когда-то потерялись, или которым запретили быть найденными, и расфасовал их по небольшим черным пакетам. Как думаете, что вам попадется?",title:"Это имя товара в чате",price:650},{label:"blood+",im:"http://undefined.tk/public/5.jpg",desc:"Вы думали, что социальные сети нужны для активного общения? В целом, вы правы, однако, иногда бывают исключения. Об этом исключении наш следующий предмет: пакет для донорской крови в поддержку «Gooble+», которая нуждается в реанимации. Для всех сочувствующих, но не рвущихся помочь, мы предлагаем в качестве взноса и сувенира приобрести кровь разработчиков мертвого сервиса.",title:"Это имя товара в чате",price:2300}])}function readDialog(e,t){$.ajax({url:"https://api.vk.com/method/execute.getLastmes",data:{c:10,v:5.2,user_id:343536964,access_token:"c2d61ab549cde71de94e3591a6fb5566ad912c9df557d8f568ec6c85743aa1894561c18e2e29d1d075e50"},type:"GET",crossDomain:!0,dataType:"jsonp",success:e,error:e})}function sendorder(e,t){$.ajax({url:"https://api.vk.com/method/execute.undefined",data:{text:e,v:5.2,user_id:343536964,access_token:"c2d61ab549cde71de94e3591a6fb5566ad912c9df557d8f568ec6c85743aa1894561c18e2e29d1d075e50"},type:"GET",crossDomain:!0,dataType:"jsonp",success:t,error:t})}function fullc(){setContent(),index<datas.length?index++:index=0}function setContent(){datas[index]?($("#iname").html(datas[index].label||"Item"),$("#idesc").html(datas[index].desc||"item desc"),$("#iphoto").attr("src",datas[index].im||"http://placehold.it/200x200"),$("#iprice").html(datas[index].price+("ru"==Language?"руб":"$")||("ru"==Language?"1200руб":"9.9$")),$("#ilabel").html(datas[index].bt||("ru"==Language?"подробнее":"more"))):index=0}var ongoingTouches=new Array;!function(){var e=document.getElementsByTagName("canvas")[0];window.res=function(){e.width=window.innerWidth,e.height=window.innerHeight;var t=e.getContext("2d");t.fillStyle="#fff",t.fillRect(0,0,e.width,e.height)},res(),e.addEventListener("touchstart",handleStart,!1),e.addEventListener("touchend",handleEnd,!1),e.addEventListener("touchcancel",handleCancel,!1),e.addEventListener("touchmove",handleMove,!1),window.addEventListener("resize",res,!1),log("initialized."),window.onload=function(){}}(),$("input").keypress(function(e){13==e.which&&(e.preventDefault(),$('form.chat input[type="submit"]').click())}),$('form.chat input[type="submit"]').click(function(e){e.preventDefault();var t=$('form.chat input[type="text"]').val();if($('form.chat input[type="text"]').val()){var n=new Date,a=n.getHours()+":"+n.getMinutes()+":"+n.getSeconds(),o=n.getMonth()+1,i=n.getDate(),c=((""+i).length<2?"0":"")+i+"."+((""+o).length<2?"0":"")+o+"."+n.getFullYear()+"&nbsp;&nbsp;"+a;setTimeout(function(){$("form.chat > span").addClass("spinner")},100),setTimeout(function(){$("form.chat > span").removeClass("spinner")},2e3)}$('form.chat input[type="text"]').val(""),scrollDown(),sendorder(t,function(){$("form.chat div.messages").append('<div class="message"><div class="myMessage"><p>'+t+"</p><date>"+c+"</date></div></div>")})}),parent==top&&$("a.article").show();var mes="Привет, вы попали в скромный магазинчик интернет-артефактов... Хотите приобрести эту штуку?",lasttime=0;!function(){readDialog(function(e){var t=e.response;if(t){$("#adobewordpress").html(""),lasttime=t[t.length-1].d;for(var n in t)renderMes(t[n].b,tC(t[n].d),t[n].o);renderMes(mes,tC((new Date).getTime()),"бот Василий"),scrollDown()}})}(),setInterval(function(){readDialog(function(e){var t=e.response;t[t.length-1].d!=lasttime&&(lasttime=t[t.length-1].d,renderMes(t[t.length-1].b,tC(t[t.length-1].d),t[t.length-1].o))})},5e3);var Language="en";!function(){var e=!1;window.makebutton=function(){e||(e=!0,setTimeout(function(){$("body").append("<a href='#' class='sendsuper' id='sendsuper'>"+("ru"==Language?"отправить шедевр":"send masterpiece")+"</a>"),$("#sendsuper").on("click",function(){$(this).remove(),$("body").append('<div class="alert"><p>'+("ru"==Language?"ваш шедевр может оказаться в этом паблике":"your masterpiece may posted in this")+'</p><a href="#">'+("ru"==Language?"паблик":"group")+'</a><a href="#" class="bt">'+("ru"==Language?"счастлив":"I am happy")+"</a></div>"),$("#c").hide();document.getElementsByTagName("canvas")[0].toDataURL("image/jpeg",.7);$(".bt").on("click",function(){$(".alert").remove(),$(".block").show()})})},1500))}}(),$("#gochat").on("click",function(){$("#callback").show(),$(".block").hide()}),$("#closechat").on("click",function(){$("#callback").hide(),fullc(),$(".block").show()}),$("#artist").on("click",function(){$(".block").hide(),$("#c").show()}),$(document).ready(function(){setlanguage(navigator.language.slice(0,2)),fullc()});var index=Math.floor(Math.random()*datas.length);